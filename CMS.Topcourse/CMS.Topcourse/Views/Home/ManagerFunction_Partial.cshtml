
<div class="col-md-10 offset-md-1">
    <div id="tree" class="treeview">

    </div>
</div>

<div class="modal fade" id="ListUserFunction" tabindex="-1" role="dialog" aria-labelledby="ListUserFunctionLabel">
    <div class="modal-dialog modal-lg" role="document" style="width: 100%">
        <div class="modal-content">
            <div class="panel panel-primary" style="margin-bottom: 0">
                <div class="panel-heading" style="text-align: center;">
                    <i class="fa fa-user"></i>Phân quyền chức năng
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
            </div>
            <div class="modal-body" id="ListUserRole" style="min-height: 550px;">

            </div>

        </div>
    </div>
</div>


<script type="text/javascript">
    $(document).ready(function () {

        var tree = JSON.parse('@Html.Raw(ViewBag.ListFunctionJson)');
        var del = false;
        var grant = false;
        var edit = false;
        if (('@ViewBag.IsAdmin').toLowerCase() == 'true') {
            del = true; //quyền sửa
            edit = true; //quyền xóa
        }
        $('#tree').treeview({
            color: "#428bca",
            levels: 3,
            nodeIcon: "glyphicon glyphicon-user",
            collapseIcon: "fa fa-chevron-down",
            expandIcon: "fa	fa-chevron-right",
            enableAction: true,
            selectedColor: "white",
            borderColor: "#428bca",
            showBorder: true,
            data: tree,
            btnstatus: false,
            btndelete: del,
            btnedit: edit,
            btngrant: true
        });
        $('[data-toggle="popover"]').popover();

    });
</script>